<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SNA Visualization Tool V2</title>
  <link rel="icon" type="image/svg+xml" href="/public/main_header.svg">
  <link rel="stylesheet" href="/src/styles/main.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
  <script type="module" src="/src/scripts/analytics.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <div class="header-content">
        <div class="header-text">
          <h1>SNA Visualization Tool</h1>
          <p class="subtitle">Social Network Analysis Visualization Platform V2</p>
        </div>
        <div class="header-actions">
          <div id="user-info" class="user-info" style="display: none;">
            <div class="user-profile">
              <img src="" alt="프로필" class="user-avatar" style="display: none;">
              <span class="user-name"></span>
            </div>
            <button id="logout-btn" class="btn btn-secondary" style="display: none;">로그아웃</button>
          </div>
          <button id="google-login-btn" class="btn">Google로 로그인</button>
        </div>
      </div>
    </header>

    <main>

      <div class="navigation-grid">
        <a href="network-visualizer.html" id="nav-card-network" class="nav-card">
          <img src="/public/icons/network-visualizer_icon.png" alt="관계망 시각화" class="card-icon">
          <h2>관계망 시각화 도구</h2>
          <p>CSV 데이터를 업로드하거나 데이터를 직접 입력하여 네트워크 그래프를 생성하고 분석합니다.</p>
        </a>

        <a href="network-visualizer-3d.html" id="nav-card-network-3d" class="nav-card">
          <img src="/public/icons/network-visualizer_icon_3D.png" alt="관계망 시각화(3D)" class="card-icon">
          <h2>관계망 시각화 도구(3D)</h2>
          <p>CSV 데이터를 업로드하거나 데이터를 직접 입력하여 네트워크 그래프를 생성하고 분석합니다.</p>
        </a>

        <a href="sna-project-sample.html" id="nav-card-sample" class="nav-card">
          <svg class="card-icon" width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; padding: 12px;">
            <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="white" opacity="0.9"/>
            <path d="M2 17L12 22L22 17" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            <path d="M2 12L12 17L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
          <h2>SNA 프로젝트 체험</h2>
          <p>간단한 설문 결과를 바탕으로 사회 관계망 분석을 어떻게 적용할 수 있는지 체험할 수 있습니다.</p>
        </a>

        <a href="make-a-report.html" id="nav-card-report" class="nav-card" style="display: none;">
          <img src="/public/icons/report.png" alt="보고서 작성하기" class="card-icon">
          <h2>보고서 작성하기</h2>
          <p>시각화 도구에서 저장한 데이터를 불러와 보고서를 작성합니다.</p>
        </a>

        <a href="analyze-with-ai.html" id="nav-card-ai" class="nav-card" style="display: none !important;">
          <img src="/public/icons/withAI.png" alt="AI로 분석하기" class="card-icon">
          <h2>AI와 함께 분석하기(준비 중)</h2>
          <p>AI를 활용하여 네트워크 데이터를 심층 분석합니다.</p>
        </a>

        <a href="admin.html" id="nav-card-admin" class="nav-card" style="display: none;">
          <img src="/public/icons/admin.png" alt="관리자 페이지" class="card-icon">
          <h2>관리자 페이지</h2>
          <p>시스템 설정 및 관리 기능을 제공합니다.</p>
        </a>
      </div>
    </main>

    <footer>
      <p>
        Made by Hyowon Wang 
        <a href="https://hyowonwang.netlify.app/" target="_blank" rel="noopener noreferrer" style="display: inline-flex; align-items: center; margin-left: 0.5rem; text-decoration: none; color: var(--panton-blue); transition: opacity 0.2s;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-left: 0.25rem; vertical-align: middle;">
            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
            <polyline points="15 3 21 3 21 9"></polyline>
            <line x1="10" y1="14" x2="21" y2="3"></line>
          </svg>
        </a>
        <span style="margin: 0 0.5rem;">|</span>
        <button id="patch-notes-btn" class="patch-notes-link" style="background: none; border: none; color: var(--panton-blue); cursor: pointer; text-decoration: underline; font-size: inherit; font-family: inherit; padding: 0;">Patch Notes</button>
        <span style="margin: 0 0.5rem;">|</span>
        <span style="font-size: 0.9rem;">
          Suggestions or feedback: 
          <a href="mailto:eduwang1010.dev@gmail.com">eduwang1010.dev@gmail.com</a>
        </span>
              </p>
    </footer>
  </div>

  <!-- Patch Notes 모달 -->
  <div id="patch-notes-modal" class="patch-notes-modal" style="display: none;">
    <div class="patch-notes-modal-content">
      <div class="patch-notes-header">
        <h2>Patch Notes</h2>
        <button class="patch-notes-close" id="patch-notes-close">&times;</button>
      </div>
      <div class="patch-notes-body">
        <div class="patch-note-item">
          <div class="patch-note-date">2025년 1월 15일</div>
          <div class="patch-note-title">사회 관계망 분석 프로젝트 체험 기능 추가</div>
          <div class="patch-note-content">
            <p>데이터 과학 프로젝트의 예시로 사회 관계망 분석 프로젝트 체험이 추가되었습니다:</p>
            <ul>
              <li><strong>사회 관계망 분석 프로젝트 체험</strong>: 간단한 설문 결과를 바탕으로 사회 관계망 분석을 어떻게 적용할 수 있는지 체험할 수 있는 기능이 추가되었습니다(로그인 없이 사용 가능!).</li>
              <li>설문 데이터를 입력하고 자카드 유사도 기반 이름 관계망 또는 공출현 기반 요소 관계망을 생성할 수 있습니다.</li>
              <li>생성된 관계망 데이터를 수정하고 그래프로 시각화하며, 집단 찾기와 중심성 계산 기능을 사용할 수 있습니다.</li>
            </ul>
          </div>
        </div>
        <div class="patch-note-item">
          <div class="patch-note-date" style="cursor: pointer; user-select: none;" onclick="togglePatchNote(this)">
            <span>2025년 12월 14일</span>
            <span style="margin-left: 0.5rem; font-size: 0.9em;">▼</span>
          </div>
          <div class="patch-note-title" style="display: none;">사회관계망 분석도구 V2 공개</div>
          <div class="patch-note-content" style="display: none;">
            <p>기존 <a href="https://sna-vis-tool.netlify.app/" target="_blank" rel="noopener noreferrer">V1</a>에 비해 다음과 같은 개선사항이 적용되었습니다:</p>
            <ul>
              <li><strong>사용성 개선</strong>: 관계망 시각화 도구의 인터페이스와 사용성을 대폭 개선했습니다.</li>
              <li><strong>3D 시각화</strong>: 3D 관계망 그래프를 그려볼 수 있는 새로운 기능이 추가되었습니다.</li>
              <li><strong>Google 로그인</strong>: Google 계정으로 로그인하여 관계망 데이터를 저장하고 관리할 수 있습니다.</li>
              <li><strong>보고서 작성</strong>: 저장된 데이터를 기반으로 분석 보고서를 작성하고 HTML로 다운로드할 수 있습니다.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>

  <script type="module" src="/src/scripts/auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
  <script type="module">
    import { init } from '/src/scripts/auth.js';
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  </script>
  
  <!-- Patch Notes 모달 제어 -->
  <script>
    (function() {
      const patchNotesBtn = document.getElementById('patch-notes-btn');
      const patchNotesModal = document.getElementById('patch-notes-modal');
      const patchNotesClose = document.getElementById('patch-notes-close');
      
      if (!patchNotesBtn || !patchNotesModal || !patchNotesClose) return;
      
      // 모달 열기
      patchNotesBtn.addEventListener('click', () => {
        patchNotesModal.style.display = 'flex';
        document.body.style.overflow = 'hidden'; // 스크롤 방지
      });
      
      // 모달 닫기
      function closeModal() {
        patchNotesModal.style.display = 'none';
        document.body.style.overflow = ''; // 스크롤 복원
      }
      
      patchNotesClose.addEventListener('click', closeModal);
      
      // 모달 배경 클릭 시 닫기
      patchNotesModal.addEventListener('click', (e) => {
        if (e.target === patchNotesModal) {
          closeModal();
        }
      });
      
      // ESC 키로 닫기
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && patchNotesModal.style.display === 'flex') {
          closeModal();
        }
      });
    })();
    
    // Patch Note 드롭다운 토글 함수
    function togglePatchNote(dateElement) {
      const patchNoteItem = dateElement.closest('.patch-note-item');
      const title = patchNoteItem.querySelector('.patch-note-title');
      const content = patchNoteItem.querySelector('.patch-note-content');
      const arrow = dateElement.querySelector('span:last-child');
      
      if (title && content) {
        const isHidden = title.style.display === 'none';
        title.style.display = isHidden ? 'block' : 'none';
        content.style.display = isHidden ? 'block' : 'none';
        arrow.textContent = isHidden ? '▲' : '▼';
      }
    }
  </script>
</body>
</html>
